![img.png](https://gitee.com/roada/drawingBed/raw/main/blog/20240529171052.png)
## 解法一：
### 实现思路：
题目同理可参考 [滑动窗口框架技巧](https://www.yuque.com/u26951862/petxba/gkvxs0nxga2le2q6)。要判断 s2 中是否包含 s1 的排列字符串，需要两个条件：

   1. s2 的子串长度与 s1 字符串的长度相同；
   2. s2 的子串中包含的所有字符出现次数与 s1 字符串包含的所有字符出现次数相同。

因此本题可以使用出滑动窗口技巧。维护一个长度为 s1 字符串长度的滑动窗口来遍历 s2 字符串。在遍历过程中需要判断滑动窗口中所有字符出现次数是否与s1 字符串包含的所有字符出现次数相同。如果相同，则说明包含，可以提前返回结果；若遍历结束后都没有找到，则说明不包含。
### 实现步骤：

1. 获取 s1，s2 字符串的长度；
2. 比较 s1，s2 字符串的长度；
   1. 如果 s1 字符串的长度较大，则说明 s2 中绝不包含 s1 的排列字符串；
   2. 如果 s2 字符串的长度较大，则继续以下步骤进行判断；
3. 创建滑动窗口，s1 对应的所有字符出现次数表，由于题目限制为小写字母，可以使用 26 位的数组进行统计；
4. 遍历 s1 字符串，统计 s1 字符串中所有字符出现次数；
5. 创建滑动窗口的边界索引，初始化为0；
6. 使用滑动窗口遍历 s2 字符串；
   1. 更新当前位置的字符的出现次数；
   2. 比较滑动窗口和 s1 字符串的大小，直至大小相同；
      1. 如果滑动窗口的长度较大，则缩减窗口，并更新左边界位置字符的出现次数；
      2. 如果滑动窗口的长度较小，则继续上述步骤；
   3. 当滑动窗口与 s1 字符串的大小相同时，比较两者的所有字符出现次数表是否相同。如果相同提前返回 true ，反之继续以下步骤；
   4. 扩充滑动窗口，右边界值向前移动。
7. 循环结束后，返回 false ，表示不包含。
### 实现代码
```java
class Solution {
    public boolean checkInclusion(String s1, String s2) {
        
        int n = s1.length();
        int m = s2.length();
        
        if(n > m) return false;

        
        // 限制小写字母
        int[] cntS1 = new int[26]; 
        int[] cntS2 = new int[26];

        // 统计字符串字符出现次数
        for(int i = 0; i < n; i++) {
            cntS1[s1.charAt(i) - 'a']++;
        }

        // 只有滑动窗口长度与s1字符串的长度相同时才有可能是排列子串。因此只需要维护滑动窗口长度为 n 。
        int right = 0;
        int left = 0;
        
        while(right < m) {
            // 记录当前元素
            cntS2[s2.charAt(right) - 'a']++;

						// 当滑动窗口大于 n 时所建窗口，等于 n 时比较字符统计表是否相同
            while(right - left + 1 >= n) {
                // 判断两个数组所有元素是否相同
                if(Arrays.equals(cntS1, cntS2)) return true;

                // 当滑动窗口的大小超过 n 时，进行缩减
                cntS2[s2.charAt(left) - 'a']--;
                left++;
            }

            // 向前移动
            right++;
        }

        return false;
    }
}
```
